<?xml version="1.0" encoding="utf-8"?>
<plasterManifest
  schemaVersion="1.1"
  templateType="Item" xmlns="http://www.microsoft.com/schemas/PowerShell/Plaster/v1">
  <metadata>
    <name>pwsh_kubernetes_spec</name>
    <id>f8ad8209-18c1-4dd3-9da2-7269fd4c5007</id>
    <version>1.0.0</version>
    <title>PowerShell Kubernetes Spec</title>
    <description>Templating to create k8s specifications</description>
    <author>Wei-Yen Tan</author>
    <tags></tags>
  </metadata>
  <parameters>
    <parameter name="Project Title" type='text' prompt='The title of your application' >

       <choice  label = 'Project Title'
             help = "Kubernetes Deployment template"
             value="project_title"/>

    </parameter>
    <parameter name = "Kubernetes Specification" type='multichoice' default='0,1,3' prompt='Select a k8s resource:' store='text'>

     <choice label = '&amp;Deployment'
             help = "Kubernetes Deployment template"
             value="Deployment"/>
     
     <choice label = '&amp;Service'
             help = "Kubernetes Service template"
             value = "Service" />

     <choice label = '&amp;Ingress'
             help = ' Kubernetes Ingress template'
             value = 'Ingress' />

     <choice label = 'Ingress&amp;Route'
             help = ' Kubernetes IngressRoutes template'
             value = 'IngressRoute' />
   </parameter>
  </parameters>
  <content>
  <message>'Scaffolding your Kubernetes Resources...'</message>
  <templateFile source='k8s_resources_deployment.yml'
      destination = 'deployment.yml'
      condition = '$PLASTER_PARAM_Options -contains "Deployment"'/>
  
   <templateFile source='k8s_resources_ingressroute.yml'
      destination='ingressroute.yml'
      condition='$PLASTER_PARAM_Options -contains "IngressRoute"'/>
   
   <templateFile source='k8s_resources_ingress.yml'
      destination='deployment.yml'
      condition='$PLASTER_PARAM_Options -contains "Ingress"'/>
  
   <templateFile source='k8s_resources_service.yml'
      destination='service.yml'
      condition='$PLASTER_PARAM_Options -contains "Service"'/>
  </content>
</plasterManifest>